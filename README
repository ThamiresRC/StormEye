
# ğŸŒªï¸ StormEye API - Sistema de Alerta de CatÃ¡strofes Naturais

Este projeto Ã© uma aplicaÃ§Ã£o desenvolvida em **Java Spring Boot** com persistÃªncia em banco **H2 em memÃ³ria**, cujo objetivo Ã© permitir o **cadastro, consulta e gerenciamento de alertas de catÃ¡strofes naturais**, como tempestades, terremotos e inundaÃ§Ãµes. TambÃ©m hÃ¡ um sistema de **autenticaÃ§Ã£o JWT**, separando usuÃ¡rios do tipo `admin` para realizar operaÃ§Ãµes sensÃ­veis.

---

## ğŸ“ Estrutura do Projeto

- `model` â€” Entidades principais como Alerta, Cidade, CatÃ¡strofe, Login e Administrador  
- `dto` â€” Objetos de transferÃªncia de dados (ex: LoginRequestDTO, CadastroLoginDTO, AlertaDTO)  
- `repository` â€” Interfaces JPA para persistÃªncia  
- `service` â€” LÃ³gica de negÃ³cio  
- `controller` â€” Rotas da API  
- `config` â€” ConfiguraÃ§Ãµes de seguranÃ§a e seed de dados  
- `specification` â€” Filtros dinÃ¢micos para buscas avanÃ§adas  
- `security` â€” Filtro de autenticaÃ§Ã£o JWT  
- `resources/application.properties` â€” ConfiguraÃ§Ãµes do H2, Swagger, JWT, etc.

---

## âš™ï¸ Tecnologias Utilizadas

- Java 17
- Spring Boot 3.5
- Spring Security
- Spring Data JPA
- H2 Database
- JWT (Auth0)
- Swagger / OpenAPI 3.0
- Lombok
- Maven

---

## ğŸ” AutenticaÃ§Ã£o

A autenticaÃ§Ã£o Ã© feita via **JWT Token**, e um usuÃ¡rio padrÃ£o Ã© criado automaticamente:

```json
{
  "usuario": "admin",
  "senha": "1234"
}
```

Ao logar, um token serÃ¡ retornado e **deve ser usado nas prÃ³ximas requisiÃ§Ãµes** com o prefixo:

```
Authorization: Bearer <token>
```

---

## ğŸ“¦ Seed de Dados

O projeto jÃ¡ cria automaticamente os seguintes registros no banco de dados H2:

- 6 cidades (Houston, Daca, Oklahoma City, etc.)
- 6 catÃ¡strofes naturais
- 1 login padrÃ£o (`admin / 1234`)
- 1 administrador associado ao login

---

## ğŸš€ Como Rodar o Projeto Localmente

1. **Clone o projeto:**

```bash
git clone https://github.com/seu-usuario/stormeye.git
cd stormeye
```

2. **Execute o projeto com Maven:**

```bash
./mvnw spring-boot:run
```

3. **Acesse o Swagger:**

```
http://localhost:8080/swagger-ui.html
```

4. **Console do H2:**

```
http://localhost:8080/h2-console
```

- JDBC URL: `jdbc:h2:mem:stormeye`  
- User: `admlnx`  
- Password: `Fiap@2tdsvms`

---

## ğŸ“– Endpoints Principais

### AutenticaÃ§Ã£o

- `POST /auth/login` â†’ retorna o JWT  
- `POST /auth/cadastro` â†’ cria novo login

### Cidades

- `GET /cidades`
- `POST /cidades`
- `PUT /cidades/{id}`
- `DELETE /cidades/{id}`

### CatÃ¡strofes

- `GET /catastrofes`
- `POST /catastrofes`
- `PUT /catastrofes/{id}`
- `DELETE /catastrofes/{id}`

### Alertas

- `GET /alertas`
- `POST /alertas`
- `PUT /alertas/{id}`
- `DELETE /alertas/{id}`

---

## ğŸ“‹ Requisitos Atendidos

- [x] AutenticaÃ§Ã£o JWT
- [x] CRUD completo de entidades
- [x] Swagger documentando todos os endpoints
- [x] Banco H2 com dados automÃ¡ticos (seeder)
- [x] SeparaÃ§Ã£o clara de responsabilidades (MVC)
- [x] Filtros e specifications para buscas dinÃ¢micas

---

## ğŸ§ª Testes Recomendados no Swagger

1. `POST /auth/login` com `admin` / `1234`  
2. Copie o token e teste as rotas protegidas (`/alertas`, `/cidades`, etc.)  
3. Cadastre novas catÃ¡strofes ou cidades  
4. Teste a atualizaÃ§Ã£o e remoÃ§Ã£o de alertas

---

## ğŸ‘¨â€ğŸ’» Desenvolvedor

- Pedro Henrique Martins dos Reis  
- RA: [SEU RA AQUI]  
- Curso: 2TDS - FIAP  
- Projeto desenvolvido para a disciplina de Global Solution - Fevereiro 2025

---
